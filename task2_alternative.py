"""
task2_alternative.py - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞ –≤–µ—Ä—Å—ñ—è —Å–Ω—ñ–∂–∏–Ω–∫–∏ –ö–æ—Ö–∞ –±–µ–∑ matplotlib

–¶–µ–π —Ñ–∞–π–ª —Å—Ç–≤–æ—Ä–µ–Ω–æ –¥–ª—è –≤–∏–ø–∞–¥–∫—ñ–≤, –∫–æ–ª–∏ matplotlib –Ω–µ –º–æ–∂–Ω–∞ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ 
—á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è (—è–∫ —É macOS –∑ externally-managed-environment).

–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:
- –ü–æ–≤–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∞–ª–≥–æ—Ä–∏—Ç–º—É —Å–Ω—ñ–∂–∏–Ω–∫–∏ –ö–æ—Ö–∞
- ASCII-–≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è —Ñ—Ä–∞–∫—Ç–∞–ª—É
- –¢–µ–∫—Å—Ç–æ–≤–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- –î–µ—Ç–∞–ª—å–Ω–∏–π –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑
- –ù–µ–∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –≤—ñ–¥ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫
"""

import sys
import math

def koch_snowflake_points(order, size=1.0):
    """
    –ì–µ–Ω–µ—Ä—É—î —Ç–æ—á–∫–∏ –¥–ª—è –ø–æ–±—É–¥–æ–≤–∏ —Å–Ω—ñ–∂–∏–Ω–∫–∏ –ö–æ—Ö–∞ –∑–∞–¥–∞–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫—É.
    
    Args:
        order: —Ä—ñ–≤–µ–Ω—å —Ä–µ–∫—É—Ä—Å—ñ—ó (–ø–æ—Ä—è–¥–æ–∫ —Ñ—Ä–∞–∫—Ç–∞–ª—É)
        size: —Ä–æ–∑–º—ñ—Ä —Å—Ç–æ—Ä–æ–Ω–∏ –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ —Ç—Ä–∏–∫—É—Ç–Ω–∏–∫–∞
        
    Returns:
        list: —Å–ø–∏—Å–æ–∫ —Ç–æ—á–æ–∫ (x, y) –¥–ª—è –º–∞–ª—é–≤–∞–Ω–Ω—è —Å–Ω—ñ–∂–∏–Ω–∫–∏
    """
    
    def koch_line_points(start, end, order):
        """
        –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ç–æ—á–æ–∫ —Ä–µ–±—Ä–∞ –ö–æ—Ö–∞.
        
        Args:
            start: –ø–æ—á–∞—Ç–∫–æ–≤–∞ —Ç–æ—á–∫–∞ (x, y)
            end: –∫—ñ–Ω—Ü–µ–≤–∞ —Ç–æ—á–∫–∞ (x, y)
            order: —Ä—ñ–≤–µ–Ω—å —Ä–µ–∫—É—Ä—Å—ñ—ó
            
        Returns:
            list: —Å–ø–∏—Å–æ–∫ —Ç–æ—á–æ–∫ –¥–ª—è —Ä–µ–±—Ä–∞ –ö–æ—Ö–∞
        """
        if order == 0:
            # –ë–∞–∑–æ–≤–∏–π –≤–∏–ø–∞–¥–æ–∫: –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ –ø—Ä—è–º—É –ª—ñ–Ω—ñ—é
            return [start, end]
        
        # –û–±—á–∏—Å–ª—é—î–º–æ –ø—Ä–æ–º—ñ–∂–Ω—ñ —Ç–æ—á–∫–∏ –¥–ª—è —Ä–µ–±—Ä–∞ –ö–æ—Ö–∞
        x1, y1 = start
        x2, y2 = end
        
        # –¢–æ—á–∫–∞ –Ω–∞ 1/3 –≤—ñ–¥—Å—Ç–∞–Ω—ñ
        p1 = ((2*x1 + x2)/3, (2*y1 + y2)/3)
        
        # –¢–æ—á–∫–∞ –Ω–∞ 2/3 –≤—ñ–¥—Å—Ç–∞–Ω—ñ  
        p2 = ((x1 + 2*x2)/3, (y1 + 2*y2)/3)
        
        # –í–µ—Ä—à–∏–Ω–∞ —Ç—Ä–∏–∫—É—Ç–Ω–∏–∫–∞ (–ø–æ–≤–æ—Ä–æ—Ç –Ω–∞ 60 –≥—Ä–∞–¥—É—Å—ñ–≤)
        dx = p2[0] - p1[0]
        dy = p2[1] - p1[1]
        
        # –ü–æ–≤–æ—Ä–æ—Ç –Ω–∞ 60 –≥—Ä–∞–¥—É—Å—ñ–≤ –ø—Ä–æ—Ç–∏ –≥–æ–¥–∏–Ω–Ω–∏–∫–æ–≤–æ—ó —Å—Ç—Ä—ñ–ª–∫–∏
        cos60 = math.cos(math.pi/3)
        sin60 = math.sin(math.pi/3)
        
        peak_x = p1[0] + dx * cos60 - dy * sin60
        peak_y = p1[1] + dx * sin60 + dy * cos60
        peak = (peak_x, peak_y)
        
        # –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≥–µ–Ω–µ—Ä—É—î–º–æ —á–æ—Ç–∏—Ä–∏ —Å–µ–≥–º–µ–Ω—Ç–∏
        points = []
        
        # –ü–µ—Ä—à–∏–π —Å–µ–≥–º–µ–Ω—Ç: –≤—ñ–¥ start –¥–æ p1
        seg1 = koch_line_points(start, p1, order - 1)
        points.extend(seg1[:-1])  # –í–∏–∫–ª—é—á–∞—î–º–æ –æ—Å—Ç–∞–Ω–Ω—é —Ç–æ—á–∫—É, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –¥—É–±–ª—é–≤–∞–Ω–Ω—è
        
        # –î—Ä—É–≥–∏–π —Å–µ–≥–º–µ–Ω—Ç: –≤—ñ–¥ p1 –¥–æ peak
        seg2 = koch_line_points(p1, peak, order - 1)
        points.extend(seg2[:-1])
        
        # –¢—Ä–µ—Ç—ñ–π —Å–µ–≥–º–µ–Ω—Ç: –≤—ñ–¥ peak –¥–æ p2
        seg3 = koch_line_points(peak, p2, order - 1)
        points.extend(seg3[:-1])
        
        # –ß–µ—Ç–≤–µ—Ä—Ç–∏–π —Å–µ–≥–º–µ–Ω—Ç: –≤—ñ–¥ p2 –¥–æ end
        seg4 = koch_line_points(p2, end, order - 1)
        points.extend(seg4)
        
        return points
    
    # –í–µ—Ä—à–∏–Ω–∏ —Ä—ñ–≤–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω—å–æ–≥–æ —Ç—Ä–∏–∫—É—Ç–Ω–∏–∫–∞
    height = size * math.sqrt(3) / 2
    vertices = [
        (-size/2, -height/3),  # –õ—ñ–≤–∞ –Ω–∏–∂–Ω—è –≤–µ—Ä—à–∏–Ω–∞
        (size/2, -height/3),   # –ü—Ä–∞–≤–∞ –Ω–∏–∂–Ω—è –≤–µ—Ä—à–∏–Ω–∞
        (0, 2*height/3)        # –í–µ—Ä—Ö–Ω—è –≤–µ—Ä—à–∏–Ω–∞
    ]
    
    # –ì–µ–Ω–µ—Ä—É—î–º–æ —Ç–æ—á–∫–∏ –¥–ª—è –≤—Å—ñ—Ö —Ç—Ä—å–æ—Ö —Å—Ç–æ—Ä—ñ–Ω —Å–Ω—ñ–∂–∏–Ω–∫–∏
    all_points = []
    
    for i in range(3):
        start = vertices[i]
        end = vertices[(i + 1) % 3]
        
        # –ì–µ–Ω–µ—Ä—É—î–º–æ —Ç–æ—á–∫–∏ –¥–ª—è –ø–æ—Ç–æ—á–Ω–æ—ó —Å—Ç–æ—Ä–æ–Ω–∏
        side_points = koch_line_points(start, end, order)
        
        # –î–æ–¥–∞—î–º–æ —Ç–æ—á–∫–∏, –≤–∏–∫–ª—é—á–∞—é—á–∏ –æ—Å—Ç–∞–Ω–Ω—é (—â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –¥—É–±–ª—é–≤–∞–Ω–Ω—è –∑ –Ω–∞—Å—Ç—É–ø–Ω–æ—é —Å—Ç–æ—Ä–æ–Ω–æ—é)
        all_points.extend(side_points[:-1])
    
    # –ó–∞–º–∏–∫–∞—î–º–æ —Ñ—ñ–≥—É—Ä—É, –¥–æ–¥–∞–≤—à–∏ –ø–µ—Ä—à—É —Ç–æ—á–∫—É –≤ –∫—ñ–Ω–µ—Ü—å
    if all_points:
        all_points.append(all_points[0])
    
    return all_points

def draw_simple_ascii_fractal(order):
    """
    –°—Ç–≤–æ—Ä—é—î –ø—Ä–æ—Å—Ç–∏–π ASCII-–∞—Ä—Ç –¥–ª—è –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ñ—Ä–∞–∫—Ç–∞–ª—É.
    
    Args:
        order: —Ä—ñ–≤–µ–Ω—å —Ä–µ–∫—É—Ä—Å—ñ—ó
    """
    print(f"\nASCII-–≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–Ω—ñ–∂–∏–Ω–∫–∏ –ö–æ—Ö–∞ (—Ä—ñ–≤–µ–Ω—å {order}):")
    print("=" * 50)
    
    if order == 0:
        # –ü—Ä–æ—Å—Ç–∏–π —Ç—Ä–∏–∫—É—Ç–Ω–∏–∫
        print("    /\\")
        print("   /  \\")
        print("  /____\\")
    elif order == 1:
        # –¢—Ä–∏–∫—É—Ç–Ω–∏–∫ –∑ –≤–∏—Å—Ç—É–ø–∞–º–∏
        print("     /\\")
        print("    /  \\")
        print("   /\\  /\\")
        print("  /  \\/  \\")
        print(" /        \\")
        print("/___/\\  /\\___\\")
        print("    \\__/")
    else:
        # –°–∫–ª–∞–¥–Ω–∏–π —Ñ—Ä–∞–∫—Ç–∞–ª - —Å—Ö–µ–º–∞—Ç–∏—á–Ω–æ
        print("–°–∫–ª–∞–¥–Ω–∞ —Ñ—Ä–∞–∫—Ç–∞–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:")
        print("       /\\/\\")
        print("      /    \\")
        print("     /\\    /\\")
        print("    /  \\  /  \\")
        print("   /\\  /\\/\\  /\\")
        print("  /__\\/____\\/__\\")
        print(" /              \\")
        print("/___/\\/\\__/\\/\\___\\")
        print("     \\__/  \\__/")
        print()
        print(f"–ü—Ä–∏–º—ñ—Ç–∫–∞: –î–ª—è —Ç–æ—á–Ω–æ—ó –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ä—ñ–≤–Ω—è {order}")
        print("–ø–æ—Ç—Ä—ñ–±–Ω–∞ –≥—Ä–∞—Ñ—ñ—á–Ω–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ matplotlib")

def create_text_visualization(points, width=80, height=40):
    """
    –°—Ç–≤–æ—Ä—é—î —Ç–µ–∫—Å—Ç–æ–≤—É –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—é —Ñ—Ä–∞–∫—Ç–∞–ª—É –≤ ASCII.
    
    Args:
        points: —Å–ø–∏—Å–æ–∫ —Ç–æ—á–æ–∫ —Ñ—Ä–∞–∫—Ç–∞–ª—É
        width: —à–∏—Ä–∏–Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—è
        height: –≤–∏—Å–æ—Ç–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—è
    """
    if not points:
        return
    
    # –ó–Ω–∞—Ö–æ–¥–∏–º–æ –º–µ–∂—ñ —Ñ—Ä–∞–∫—Ç–∞–ª—É
    x_coords = [p[0] for p in points]
    y_coords = [p[1] for p in points]
    
    min_x, max_x = min(x_coords), max(x_coords)
    min_y, max_y = min(y_coords), max(y_coords)
    
    # –°—Ç–≤–æ—Ä—é—î–º–æ —Å—ñ—Ç–∫—É —Å–∏–º–≤–æ–ª—ñ–≤
    grid = [[' ' for _ in range(width)] for _ in range(height)]
    
    # –ú–∞—Å—à—Ç–∞–±—É—î–º–æ —Ç–æ—á–∫–∏ –¥–æ —Ä–æ–∑–º—ñ—Ä—É —Å—ñ—Ç–∫–∏
    for i in range(len(points) - 1):
        x1, y1 = points[i]
        x2, y2 = points[i + 1]
        
        # –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è –¥–æ —Å—ñ—Ç–∫–∏
        screen_x1 = int((x1 - min_x) / (max_x - min_x) * (width - 1))
        screen_y1 = int((y1 - min_y) / (max_y - min_y) * (height - 1))
        screen_x2 = int((x2 - min_x) / (max_x - min_x) * (width - 1))
        screen_y2 = int((y2 - min_y) / (max_y - min_y) * (height - 1))
        
        # –ú–∞–ª—é—î–º–æ –ª—ñ–Ω—ñ—é (—Å–ø—Ä–æ—â–µ–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º)
        if abs(screen_x2 - screen_x1) > abs(screen_y2 - screen_y1):
            # –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞ –ª—ñ–Ω—ñ—è
            if screen_x1 > screen_x2:
                screen_x1, screen_x2 = screen_x2, screen_x1
                screen_y1, screen_y2 = screen_y2, screen_y1
            
            for x in range(screen_x1, screen_x2 + 1):
                if screen_x2 != screen_x1:
                    y = screen_y1 + (screen_y2 - screen_y1) * (x - screen_x1) // (screen_x2 - screen_x1)
                else:
                    y = screen_y1
                
                if 0 <= x < width and 0 <= y < height:
                    grid[height - 1 - y][x] = '*'
        else:
            # –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞ –ª—ñ–Ω—ñ—è
            if screen_y1 > screen_y2:
                screen_x1, screen_x2 = screen_x2, screen_x1
                screen_y1, screen_y2 = screen_y2, screen_y1
            
            for y in range(screen_y1, screen_y2 + 1):
                if screen_y2 != screen_y1:
                    x = screen_x1 + (screen_x2 - screen_x1) * (y - screen_y1) // (screen_y2 - screen_y1)
                else:
                    x = screen_x1
                
                if 0 <= x < width and 0 <= y < height:
                    grid[height - 1 - y][x] = '*'
    
    # –í–∏–≤–æ–¥–∏–º–æ —Å—ñ—Ç–∫—É
    print("\n–¢–µ–∫—Å—Ç–æ–≤–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–Ω—ñ–∂–∏–Ω–∫–∏ –ö–æ—Ö–∞:")
    print("=" * width)
    for row in grid:
        print(''.join(row))
    print("=" * width)

def show_coordinates_sample(points, max_points=20):
    """
    –ü–æ–∫–∞–∑—É—î –∑—Ä–∞–∑–æ–∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ç–æ—á–æ–∫ —Ñ—Ä–∞–∫—Ç–∞–ª—É.
    
    Args:
        points: —Å–ø–∏—Å–æ–∫ —Ç–æ—á–æ–∫
        max_points: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–æ—á–æ–∫ –¥–ª—è –ø–æ–∫–∞–∑—É
    """
    if not points:
        return
    
    print(f"\n–ó—Ä–∞–∑–æ–∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ç–æ—á–æ–∫ (–ø–µ—Ä—à—ñ {min(max_points, len(points))} –∑ {len(points)}):")
    print("-" * 50)
    
    for i, (x, y) in enumerate(points[:max_points]):
        print(f"–¢–æ—á–∫–∞ {i+1:2d}: ({x:8.4f}, {y:8.4f})")
    
    if len(points) > max_points:
        print(f"... —Ç–∞ —â–µ {len(points) - max_points} —Ç–æ—á–æ–∫")

def analyze_fractal(order, points):
    """
    –ê–Ω–∞–ª—ñ–∑—É—î –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ —Ñ—Ä–∞–∫—Ç–∞–ª—É.
    
    Args:
        order: —Ä—ñ–≤–µ–Ω—å —Ä–µ–∫—É—Ä—Å—ñ—ó
        points: —Å–ø–∏—Å–æ–∫ —Ç–æ—á–æ–∫ —Ñ—Ä–∞–∫—Ç–∞–ª—É
    """
    print(f"\n" + "="*60)
    print(f"–ú–ê–¢–ï–ú–ê–¢–ò–ß–ù–ò–ô –ê–ù–ê–õ–Ü–ó –§–†–ê–ö–¢–ê–õ–£ '–°–ù–Ü–ñ–ò–ù–ö–ê –ö–û–•–ê'")
    print("="*60)
    print(f"–†—ñ–≤–µ–Ω—å —Ä–µ–∫—É—Ä—Å—ñ—ó: {order}")
    
    if points:
        print(f"–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏—Ö —Ç–æ—á–æ–∫: {len(points)}")
    
    # –¢–µ–æ—Ä–µ—Ç–∏—á–Ω—ñ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
    theoretical_segments = 3 * (4 ** order)
    print(f"–¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–µ–≥–º–µ–Ω—Ç—ñ–≤: {theoretical_segments}")
    
    if order > 0:
        perimeter_ratio = (4/3) ** order
        print(f"–ó–±—ñ–ª—å—à–µ–Ω–Ω—è –ø–µ—Ä–∏–º–µ—Ç—Ä—É: {perimeter_ratio:.4f}x")
        print(f"–ü—Ä–∏–±–ª–∏–∑–Ω–∏–π –ø–µ—Ä–∏–º–µ—Ç—Ä: {perimeter_ratio:.2f} –æ–¥–∏–Ω–∏—Ü—å")
    
    # –ü–ª–æ—â–∞ –∑–∞–≤–∂–¥–∏ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è —Å–∫—ñ–Ω—á–µ–Ω–Ω–æ—é
    if order > 0:
        # –§–æ—Ä–º—É–ª–∞ –¥–ª—è –ø–ª–æ—â—ñ —Å–Ω—ñ–∂–∏–Ω–∫–∏ –ö–æ—Ö–∞
        area_ratio = 1 + (1/5) * (1 - (4/9)**order) / (1 - 4/9)
        print(f"–ó–±—ñ–ª—å—à–µ–Ω–Ω—è –ø–ª–æ—â—ñ: {area_ratio:.4f}x")
    
    print(f"–§—Ä–∞–∫—Ç–∞–ª—å–Ω–∞ —Ä–æ–∑–º—ñ—Ä–Ω—ñ—Å—Ç—å: ~1.2619 (–º—ñ–∂ –ª—ñ–Ω—ñ—î—é —Ç–∞ –ø–ª–æ—â–∏–Ω–æ—é)")
    
    # –ê–ª–≥–æ—Ä–∏—Ç–º—ñ—á–Ω–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å
    print(f"\n–ê–ª–≥–æ—Ä–∏—Ç–º—ñ—á–Ω–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:")
    print(f"- –ß–∞—Å–æ–≤–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å: O(4^{order}) = O({4**order})")
    print(f"- –ü—Ä–æ—Å—Ç–æ—Ä–æ–≤–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å: O(4^{order})")
    print(f"- –ì–ª–∏–±–∏–Ω–∞ —Ä–µ–∫—É—Ä—Å—ñ—ó: {order}")
    
    # –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞ –ø—Ä–∏—Ä–æ–¥–∞
    print(f"\n–†–µ–∫—É—Ä—Å–∏–≤–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:")
    print(f"- –ö–æ–∂–µ–Ω —Å–µ–≥–º–µ–Ω—Ç —Ä—ñ–≤–Ω—è {order-1 if order > 0 else 0} ‚Üí 4 —Å–µ–≥–º–µ–Ω—Ç–∏ —Ä—ñ–≤–Ω—è {order}")
    print(f"- –î–æ–≤–∂–∏–Ω–∞ –∫–æ–∂–Ω–æ–≥–æ –Ω–æ–≤–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞: 1/3 –≤—ñ–¥ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ")
    print(f"- –ó–∞–≥–∞–ª—å–Ω–∞ –¥–æ–≤–∂–∏–Ω–∞ –∑–±—ñ–ª—å—à—É—î—Ç—å—Å—è –≤ 4/3 —Ä–∞–∑–∏ –Ω–∞ –∫–æ–∂–Ω–æ–º—É —Ä—ñ–≤–Ω—ñ")
    
    if order >= 4:
        print(f"\n‚ö†Ô∏è  –ü—Ä–∏ —Ä—ñ–≤–Ω—ñ {order} —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–∞—î –¥—É–∂–µ —Å–∫–ª–∞–¥–Ω–æ—é:")
        print(f"   - {theoretical_segments} —Å–µ–≥–º–µ–Ω—Ç—ñ–≤ –¥–ª—è –º–∞–ª—é–≤–∞–Ω–Ω—è")
        print(f"   - –ü–µ—Ä–∏–º–µ—Ç—Ä —É {perimeter_ratio:.1f} —Ä–∞–∑—ñ–≤ –±—ñ–ª—å—à–∏–π –∑–∞ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π")

def main():
    """
    –ì–æ–ª–æ–≤–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –ø—Ä–æ–≥—Ä–∞–º–∏.
    """
    print("üî∂" + "="*58 + "üî∂")
    print("üî∂  –ì–ï–ù–ï–†–ê–¢–û–† –§–†–ê–ö–¢–ê–õ–£ '–°–ù–Ü–ñ–ò–ù–ö–ê –ö–û–•–ê' (–ë–ï–ó MATPLOTLIB)  üî∂")
    print("üî∂" + "="*58 + "üî∂")
    print("üìù –¶–µ–π —Ñ–∞–π–ª —Å—Ç–≤–æ—Ä–µ–Ω–æ —è–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è —Å–∏—Å—Ç–µ–º, –¥–µ matplotlib")
    print("   –Ω–µ –º–æ–∂–Ω–∞ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è.")
    print("üöÄ –ü–æ–≤–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –ë–ï–ó –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π!")
    print("="*62)
    
    # –û—Ç—Ä–∏–º—É—î–º–æ —Ä—ñ–≤–µ–Ω—å —Ä–µ–∫—É—Ä—Å—ñ—ó –≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    if len(sys.argv) > 1:
        try:
            order = int(sys.argv[1])
            if order < 0:
                raise ValueError("–†—ñ–≤–µ–Ω—å —Ä–µ–∫—É—Ä—Å—ñ—ó –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –Ω–µ–≤—ñ–¥'—î–º–Ω–∏–º —á–∏—Å–ª–æ–º")
        except ValueError as e:
            print(f"‚ùå –ü–æ–º–∏–ª–∫–∞: {e}")
            print("–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è: python3 task2_alternative.py [—Ä—ñ–≤–µ–Ω—å_—Ä–µ–∫—É—Ä—Å—ñ—ó]")
            return
    else:
        # –ó–∞–ø–∏—Ç—É—î–º–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤–≤–µ—Å—Ç–∏ —Ä—ñ–≤–µ–Ω—å —Ä–µ–∫—É—Ä—Å—ñ—ó
        try:
            print("–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ —Ä—ñ–≤–Ω—ñ:")
            print("  0-2: —à–≤–∏–¥–∫–æ, –¥–æ–±—Ä–µ –≤–∏–¥–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É")
            print("  3-4: —Å–µ—Ä–µ–¥–Ω—è —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å, –¥–µ—Ç–∞–ª—ñ–∑–æ–≤–∞–Ω–æ")
            print("  5-6: –≤–∏—Å–æ–∫–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å, –±–∞–≥–∞—Ç–æ –¥–µ—Ç–∞–ª–µ–π")
            order = int(input("\n–í–≤–µ–¥—ñ—Ç—å —Ä—ñ–≤–µ–Ω—å —Ä–µ–∫—É—Ä—Å—ñ—ó (0-6): "))
            if order < 0:
                raise ValueError("–†—ñ–≤–µ–Ω—å —Ä–µ–∫—É—Ä—Å—ñ—ó –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –Ω–µ–≤—ñ–¥'—î–º–Ω–∏–º —á–∏—Å–ª–æ–º")
        except ValueError:
            print("‚ùå –ü–æ–º–∏–ª–∫–∞: –ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å —Ü—ñ–ª–µ –Ω–µ–≤—ñ–¥'—î–º–Ω–µ —á–∏—Å–ª–æ")
            return
    
    # –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –¥–ª—è –≤–∏—Å–æ–∫–∏—Ö —Ä—ñ–≤–Ω—ñ–≤ —Ä–µ–∫—É—Ä—Å—ñ—ó
    if order > 6:
        print(f"‚ö†Ô∏è  –£–í–ê–ì–ê! –†—ñ–≤–µ–Ω—å —Ä–µ–∫—É—Ä—Å—ñ—ó {order} –º–æ–∂–µ –∑–∞–π–Ω—è—Ç–∏ –±–∞–≥–∞—Ç–æ —á–∞—Å—É —Ç–∞ –ø–∞–º'—è—Ç—ñ.")
        print(f"   –û—á—ñ–∫—É–≤–∞–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–µ–≥–º–µ–Ω—Ç—ñ–≤: {3 * (4 ** order):,}")
        response = input("–ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏? (y/n): ")
        if response.lower() != 'y':
            print("‚ùå –û–ø–µ—Ä–∞—Ü—ñ—é —Å–∫–∞—Å–æ–≤–∞–Ω–æ")
            return
    
    print(f"\nüîÑ –ì–µ–Ω–µ—Ä—É—é —Å–Ω—ñ–∂–∏–Ω–∫—É –ö–æ—Ö–∞ –∑ —Ä—ñ–≤–Ω–µ–º —Ä–µ–∫—É—Ä—Å—ñ—ó {order}...")
    
    try:
        # –ì–µ–Ω–µ—Ä—É—î–º–æ —Ç–æ—á–∫–∏ —Ñ—Ä–∞–∫—Ç–∞–ª—É
        points = koch_snowflake_points(order, size=6)
        
        # –ü–æ–∫–∞–∑—É—î–º–æ –ø—Ä–æ—Å—Ç–∏–π ASCII-–∞—Ä—Ç
        draw_simple_ascii_fractal(order)
        
        # –°—Ç–≤–æ—Ä—é—î–º–æ –¥–µ—Ç–∞–ª—å–Ω—ñ—à—É –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—é –¥–ª—è –º–∞–ª–∏—Ö —Ä—ñ–≤–Ω—ñ–≤
        if order <= 3 and points:
            create_text_visualization(points, width=60, height=30)
        
        # –ü–æ–∫–∞–∑—É—î–º–æ –∑—Ä–∞–∑–æ–∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
        if points and order <= 4:
            show_coordinates_sample(points)
        
        # –ê–Ω–∞–ª—ñ–∑—É—î–º–æ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ —Ñ—Ä–∞–∫—Ç–∞–ª—É
        analyze_fractal(order, points)
        
        # –ü–æ—Ä–∞–¥–∏ —â–æ–¥–æ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó
        print(f"\nüí° –î–û–î–ê–¢–ö–û–í–ê –Ü–ù–§–û–†–ú–ê–¶–Ü–Ø:")
        print(f"üìÅ –§–∞–π–ª task2.py –º—ñ—Å—Ç–∏—Ç—å –≤–µ—Ä—Å—ñ—é –∑ matplotlib –¥–ª—è –∫—Ä–∞—â–æ—ó –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó")
        print(f"üîß –î–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è matplotlib –Ω–∞ macOS:")
        print(f"   python3 -m venv venv")
        print(f"   source venv/bin/activate")
        print(f"   pip install matplotlib")
        print(f"üéØ –ü–æ—Ç–æ—á–Ω–∞ –≤–µ—Ä—Å—ñ—è –Ω–∞–¥–∞—î –ø–æ–≤–Ω–∏–π –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ —Ñ—Ä–∞–∫—Ç–∞–ª—É")
        
        print(f"\n‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—é –∑–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ!")
        
    except Exception as e:
        print(f"‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—ñ–¥ —á–∞—Å –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ñ—Ä–∞–∫—Ç–∞–ª—É: {e}")
        print(f"üí° –°–ø—Ä–æ–±—É–π—Ç–µ –º–µ–Ω—à–∏–π —Ä—ñ–≤–µ–Ω—å —Ä–µ–∫—É—Ä—Å—ñ—ó")

if __name__ == "__main__":
    main()
